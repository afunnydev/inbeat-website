<script>
    var generalMixin = {
        data: {
              dpSrc:null,
              postSrc:[],
          },
        methods: {
            downloadPng(target,name){
                var preview = document.getElementById(target)
                html2canvas(preview)
                .then(function(canvas){
                  var link = document.createElement('a');
                    link.download = name+'.png';
                    link.href = canvas.toDataURL();
                    link.click();
                })
            },
            copyImage(target){
                var preview = document.getElementById(target)
                navigator.permissions.query({ name: "clipboard-write" }).then((result) => {
                    if (result.state == "granted" || result.state == "prompt") {
                      html2canvas(preview).then(canvas => canvas.toBlob(blob => navigator.clipboard.write([new ClipboardItem({[blob.type]: blob})])))
                      this.copied = true
                    }
                })
            },
        }
    }
</script>